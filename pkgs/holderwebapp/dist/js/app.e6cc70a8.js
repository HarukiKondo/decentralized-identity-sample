(function(){var e={3735:function(e,t,l){"use strict";var n=l(6789),a=l(4271),i=l(8927),r=l(6363),d=l(1028),o=l(7270),s=l(7577);function u(e,t,l,n,u,c){const f=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.Wv)(i.E,null,{default:(0,a.k6)((()=>[(0,a.bF)(o.u,{color:"primary"},{default:(0,a.k6)((()=>[(0,a.bF)(s.M,{class:"hidden-sm-and-down"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{flat:"",to:"/"},{default:(0,a.k6)((()=>[(0,a.eW)("Home")])),_:1}),(0,a.bF)(r.D,{flat:"",to:"/holder"},{default:(0,a.k6)((()=>[(0,a.eW)("Holder")])),_:1})])),_:1})])),_:1}),(0,a.bF)(d.Y,null,{default:(0,a.k6)((()=>[(0,a.bF)(f)])),_:1})])),_:1})}var c=(0,a.pM)({name:"App",data(){return{}}}),f=l(6132);const _=(0,f.A)(c,[["render",u]]);var p=_,b=l(4896),k=l(6402),h=l(4668),m=l(7728);function g(e,t,l,n,i,d){const o=(0,a.g2)("authenticator");return(0,a.uX)(),(0,a.Wv)(o,{"login-mechanisms":["username","email"]},{default:(0,a.k6)((({user:e,signOut:t})=>[(0,a.bF)(m.I,null,{default:(0,a.k6)((()=>[(0,a.Lk)("h1",null,"Hello "+(0,h.v_)(e.username)+"!",1),(0,a.bF)(r.D,{onClick:t},{default:(0,a.k6)((()=>[(0,a.eW)("Sign Out")])),_:2},1032,["onClick"])])),_:2},1024)])),_:1})}var v=l(6823),F=l(3667),y=(0,a.pM)({name:"SignIn",setup(){const e=(0,v.KR)((0,F.pl)());return{auth:e}},components:{Authenticator:F.kD},data(){return{}}});const w=(0,f.A)(y,[["render",g]]);var D=w;function V(e,t,l,n,i,r){const d=(0,a.g2)("GenerateIdentifier"),o=(0,a.g2)("GetIdentifier"),s=(0,a.g2)("GetDIDDocument"),u=(0,a.g2)("IssueJWT"),c=(0,a.g2)("VerifyJWT"),f=(0,a.g2)("CheckDIDOwner"),_=(0,a.g2)("ChangeDIDOwner"),p=(0,a.g2)("DelegateDID"),b=(0,a.g2)("AttributeDID");return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(d),(0,a.bF)(o),(0,a.bF)(s),(0,a.bF)(u,{selected_pubkey:e.selected_pubkey},null,8,["selected_pubkey"]),(0,a.bF)(c),(0,a.bF)(f),(0,a.bF)(_),(0,a.bF)(p),(0,a.bF)(b)])),_:1})}var I=l(2190),A=l(9403),L=l(7119);function B(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.generateIdentifier},{default:(0,a.k6)((()=>[(0,a.eW)(" generate identifier ")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(L.K,{modelValue:e.snackbar,"onUpdate:modelValue":t[1]||(t[1]=t=>e.snackbar=t),color:e.snackbarColor},{action:(0,a.k6)((({attrs:l})=>[(0,a.bF)(r.D,(0,a.v6)({color:"pink",text:""},l,{onClick:t[0]||(t[0]=t=>e.snackbar=!1)}),{default:(0,a.k6)((()=>[(0,a.eW)(" Close ")])),_:2},1040)])),default:(0,a.k6)((()=>[(0,a.eW)((0,h.v_)(e.snackbarText)+" ",1)])),_:1},8,["modelValue","color"])])),_:1})])),_:1})}var C=l(6828),x=(0,a.pM)({name:"GenerateIdentifier",data(){return{snackbarColor:"primary",snackbar:!1,snackbarText:""}},methods:{async generateIdentifier(){await C.n.post("api","/identifier",{}),this.snackbarColor="success",this.snackbarText="successed generate privatekey",this.snackbar=!0}}});const W=(0,f.A)(x,[["render",B]]);var j=W,O=l(141);const E=(0,a.Lk)("p",{class:"text-h5"},"保存しているIdentifierの一覧",-1);function S(e,t,l,n,i,r){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[E])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(O.Z,null,{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.headers,(e=>((0,a.uX)(),(0,a.CE)("th",{key:e.value,class:"text-left"},(0,h.v_)(e.text),1)))),128))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.identifiers,(e=>((0,a.uX)(),(0,a.CE)("tr",{key:e.identifier},[(0,a.Lk)("td",null,(0,h.v_)(e.address.S),1),(0,a.Lk)("td",null,(0,h.v_)(e.identifier.S),1),(0,a.Lk)("td",null,(0,h.v_)(e.publicKey.S),1)])))),128))])])),_:1})])),_:1})])),_:1})])),_:1})}var U=(0,a.pM)({name:"GetIdentifier",data(){return{headers:[{text:"address"},{text:"identifier"},{text:"publicKey"}],identifiers:[]}},methods:{async getIdentifiers(){const e=await C.n.get("api","/identifier",{});console.log(e),this.identifiers=e}},created(){this.getIdentifiers()}});const T=(0,f.A)(U,[["render",S]]);var P=T,N=l(6887),M=l(429);const J=(0,a.Lk)("p",{class:"text-h4"},"DID Document取得",-1);function R(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[J])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.did_url,"onUpdate:modelValue":t[0]||(t[0]=t=>e.did_url=t),placeholder:"did_url"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.getDidDocument,color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" get_Did_Document ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(M.J,{modelValue:e.did_document,"onUpdate:modelValue":t[1]||(t[1]=t=>e.did_document=t)},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})}var X=(0,a.pM)({name:"GetDIDDocument",data(){return{did_url:"did:ethr:0x5:0xD9bB04cF7147cBcdc03052DF5dA64af400d710b1",did_document:""}},methods:{async getDidDocument(){console.log("getDidDocument...");const e=await C.n.get("api","/document",{queryStringParameters:{did_url:this.did_url}});this.did_document=JSON.stringify(e,null,"  ")}}});const K=(0,f.A)(X,[["render",R]]);var G=K,$=l(266);const z=(0,a.Lk)("p",{class:"text-h4"},"JWT発行",-1),H=(0,a.Lk)("p",null," jwt issue PublicKeyにはDIDドキュメントのblockchainAccountId欄に記載のあるpublic addressを指定すること ",-1);function q(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[z])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[H])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)($.d4,{items:e.list_address,modelValue:e.selected_address,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected_address=t),label:"jwt issuer public address"},null,8,["items","modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.jwt_identifier,"onUpdate:modelValue":t[1]||(t[1]=t=>e.jwt_identifier=t),label:"Identifier that issues JWT",placeholder:"0x..."},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"4"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.signJWT,color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" sign_JWT ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(M.J,{modelValue:e.signed_jwt,"onUpdate:modelValue":t[2]||(t[2]=t=>e.signed_jwt=t),rows:"2"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})}l(9375);var Z=(0,a.pM)({name:"IssueJWT",props:[],data(){return{list_address:[],selected_address:"",jwt_identifier:"0xD9bB04cF7147cBcdc03052DF5dA64af400d710b1",jwt_message_key:"key",jwt_message_value:"value",signed_jwt:""}},async created(){const e=await this.getIdentifiers();console.log("identifier",e),this.list_address=[];for(let t=0;t<e.length;t++)this.list_address.push(e[t].address.S)},methods:{async getIdentifiers(){const e=await C.n.get("api","/identifier",{});return e},async signJWT(){try{const e=await C.n.get("api","/jwt",{queryStringParameters:{identifier:this.jwt_identifier,address:this.selected_address}});console.log(e),this.signed_jwt=e}catch(e){throw console.log(e),new Error(e)}}}});const Y=(0,f.A)(Z,[["render",q]]);var Q=Y;const ee=(0,a.Lk)("p",{class:"text-h4"},"JWT検証",-1),te={class:"text-left"};function le(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[ee])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.jwt_identifier,"onUpdate:modelValue":t[0]||(t[0]=t=>e.jwt_identifier=t),label:"Identifier that issues JWT",placeholder:"0x..."},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(M.J,{modelValue:e.jwt_verification,"onUpdate:modelValue":t[1]||(t[1]=t=>e.jwt_verification=t),placeholder:"jwt_verification"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.verifyJWT,color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" verify_JWT ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("p",te,(0,h.v_)(e.jwt_verify_message),1)])),_:1})])),_:1})])),_:1})}var ne=(0,a.pM)({name:"VerifyJWT",props:[],data(){return{jwt_identifier:"0xD9bB04cF7147cBcdc03052DF5dA64af400d710b1",jwt_verification:"",jwt_verify_message:""}},methods:{async verifyJWT(){try{const e=await C.n.post("api","/jwt",{body:{identifier:this.jwt_identifier,jwt:this.jwt_verification}});this.jwt_verify_message=e}catch(e){console.error("unable to verify JWT: ",e),this.jwt_verify_message=e}}}});const ae=(0,f.A)(ne,[["render",le]]);var ie=ae;const re=(0,a.Lk)("p",{class:"text-h4"},"DIDの所有者を確認",-1),de={class:"text-left"};function oe(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[re])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.lookup_identifier,"onUpdate:modelValue":t[0]||(t[0]=t=>e.lookup_identifier=t),label:"identifier",placeholder:"0x..."},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.lookupOwner,color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" lookup_Owner ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.Lk)("p",de,(0,h.v_)(e.owner_info),1)])),_:1})])),_:1})])),_:1})}var se=(0,a.pM)({name:"CheckDIDOwner",props:[],data(){return{lookup_identifier:"",owner_info:""}},methods:{async lookupOwner(){this.owner_info=await C.n.get("api","/owner",{queryStringParameters:{identifier:this.lookup_identifier}})}}});const ue=(0,f.A)(se,[["render",oe]]);var ce=ue;const fe=(0,a.Lk)("p",{class:"text-h4"},"DIDの所有者変更",-1),_e={class:"text-left"};function pe(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[fe])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.new_owner_identifier,"onUpdate:modelValue":t[0]||(t[0]=t=>e.new_owner_identifier=t),label:"identifier",placeholder:"0x..."},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.new_owner_address,"onUpdate:modelValue":t[1]||(t[1]=t=>e.new_owner_address=t),label:"new owner address",placeholder:"0x..."},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)($.d4,{items:e.list_address,modelValue:e.selected_address,"onUpdate:modelValue":t[2]||(t[2]=t=>e.selected_address=t),label:"public address of TxSigner"},null,8,["items","modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.changeOwner,color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" change_Owner ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("p",_e,(0,h.v_)(e.change_owner_info),1)])),_:1})])),_:1})])),_:1})}var be=(0,a.pM)({name:"ChangeDIDOwner",props:[],data(){return{list_address:[],selected_address:"",new_owner_identifier:"",new_owner_address:"",change_owner_info:""}},methods:{async changeOwner(){this.owner_info=await C.n.post("api","/owner",{body:{signerAddress:this.selected_address,identifier:this.new_owner_identifier,new_owner_address:this.new_owner_address}})},async getIdentifiers(){const e=await C.n.get("api","/identifier",{});return e}},async created(){const e=await this.getIdentifiers();console.log("identifier",e),this.list_address=[];for(let t=0;t<e.length;t++)this.list_address.push(e[t].address.S)}});const ke=(0,f.A)(be,[["render",pe]]);var he=ke;const me=(0,a.Lk)("p",{class:"text-h4"},"Delegate",-1),ge=(0,a.Lk)("p",null,"veriKey: jwtの電子署名で使う",-1),ve={class:"text-left"};function Fe(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[me,ge])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.identifier,"onUpdate:modelValue":t[0]||(t[0]=t=>e.identifier=t),label:"identifier",placeholder:"0x..."},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)($.d4,{items:e.list_address,modelValue:e.selected_address,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selected_address=t),label:"public address of TxSigner"},null,8,["items","modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.delegate_address,"onUpdate:modelValue":t[2]||(t[2]=t=>e.delegate_address=t),placeholder:"0x...",label:"delegate address"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"3"},{default:(0,a.k6)((()=>[(0,a.bF)($.d4,{items:["veriKey","sigAuth"],modelValue:e.delegate_type,"onUpdate:modelValue":t[3]||(t[3]=t=>e.delegate_type=t),label:"type"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.delegate_expiresIn,"onUpdate:modelValue":t[4]||(t[4]=t=>e.delegate_expiresIn=t),type:"number",placeholder:"86400"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.addDelegate,color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" add_Delegate ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.revokeDelegate,color:"error"},{default:(0,a.k6)((()=>[(0,a.eW)(" revoke_Delegate ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("p",ve,(0,h.v_)(e.delegate_info),1)])),_:1})])),_:1})])),_:1})}var ye=(0,a.pM)({name:"DelegateDID",props:[],data(){return{identifier:"",list_address:[],selected_address:"",delegate_address:"",delegate_type:"",delegate_expiresIn:0,delegate_info:""}},methods:{async addDelegate(){try{this.delegate_info=await C.n.post("api","/delegate",{body:{identifier:this.identifier,signerAddress:this.selected_address,delegate_address:this.delegate_address,delegate_type:this.delegate_type,delegate_expiresIn:this.delegate_expiresIn}})}catch(e){console.log(e),this.delegate_info=e}},async revokeDelegate(){try{this.delegate_info=await C.n.del("api","/delegate",{body:{identifier:this.identifier,signerAddress:this.selected_address,delegate_address:this.delegate_address,delegate_type:this.delegate_type}})}catch(e){console.log(e),this.delegate_info=e}},async getIdentifiers(){const e=await C.n.get("api","/identifier",{});return e}},async created(){const e=await this.getIdentifiers();console.log("identifier",e),this.list_address=[];for(let t=0;t<e.length;t++)this.list_address.push(e[t].address.S)}});const we=(0,f.A)(ye,[["render",Fe]]);var De=we;const Ve=(0,a.Lk)("p",{class:"text-h4"},"IdentifierにAttributeの関連付け",-1),Ie={class:"text-left"};function Ae(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[Ve])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)($.d4,{items:e.list_address,modelValue:e.selected_address,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selected_address=t),label:"public address of TxSigner"},null,8,["items","modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.setAttribute_identifier,"onUpdate:modelValue":t[1]||(t[1]=t=>e.setAttribute_identifier=t),label:"identifier",placeholder:"0x..."},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.setAttribute_path,"onUpdate:modelValue":t[2]||(t[2]=t=>e.setAttribute_path=t),label:"path",placeholder:"did/srv/xxxService"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.setAttribute_param,"onUpdate:modelValue":t[3]||(t[3]=t=>e.setAttribute_param=t),label:"param",placeholder:"https://..."},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"3"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.setAttribute_expiresIn,"onUpdate:modelValue":t[4]||(t[4]=t=>e.setAttribute_expiresIn=t),type:"number",placeholder:"86400"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.setAttribute,color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" set_Attribute ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.revokeAttribute,color:"error"},{default:(0,a.k6)((()=>[(0,a.eW)(" revoke_Attribute ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("p",Ie,(0,h.v_)(e.attribute_info),1)])),_:1})])),_:1})])),_:1})}var Le=(0,a.pM)({name:"AttributeDID",props:[],data(){return{list_address:[],selected_address:"",setAttribute_identifier:"0xD9bB04cF7147cBcdc03052DF5dA64af400d710b1",setAttribute_path:"did/svc/example",setAttribute_param:"https://example.com",setAttribute_expiresIn:"86400",attribute_info:""}},methods:{async setAttribute(){try{this.attribute_info=this.delegate_info=await C.n.post("api","/attribute",{body:{identifier:this.setAttribute_identifier,signerAddress:this.selected_address,attribute_path:this.setAttribute_path,attribute_param:this.setAttribute_param,attribute_expiresIn:this.setAttribute_expiresIn}})}catch(e){console.log(e),this.attribute_info=e}},async revokeAttribute(){try{this.attribute_info=this.delegate_info=await C.n.del("api","/attribute",{body:{identifier:this.setAttribute_identifier,signerAddress:this.selected_address,attribute_path:this.setAttribute_path,attribute_param:this.setAttribute_param}})}catch(e){console.log(e),this.attribute_info=e}},async getIdentifiers(){const e=await C.n.get("api","/identifier",{});return e}},async created(){const e=await this.getIdentifiers();console.log("identifier",e),this.list_address=[];for(let t=0;t<e.length;t++)this.list_address.push(e[t].address.S)}});const Be=(0,f.A)(Le,[["render",Ae]]);var Ce=Be,xe=(0,a.pM)({name:"HomeView",components:{GenerateIdentifier:j,GetIdentifier:P,GetDIDDocument:G,IssueJWT:Q,VerifyJWT:ie,CheckDIDOwner:ce,ChangeDIDOwner:he,DelegateDID:De,AttributeDID:Ce},data(){return{}}});const We=(0,f.A)(xe,[["render",V]]);var je=We;const Oe=(0,a.Lk)("p",{class:"text-h4"},"Verifiable Credentialの保管とアクセスコントロール",-1);function Ee(e,t,l,n,i,r){const d=(0,a.g2)("GenerateIdentifier"),o=(0,a.g2)("GetIdentifier"),s=(0,a.g2)("ListVC"),u=(0,a.g2)("UploadVC"),c=(0,a.g2)("Attribute"),f=(0,a.g2)("DelegateDID");return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[Oe])),_:1}),(0,a.bF)(d),(0,a.bF)(o),(0,a.bF)(s),(0,a.bF)(u),(0,a.bF)(c),(0,a.bF)(f)])),_:1})}const Se=(0,a.Lk)("p",{class:"text-h5"},"Verifiable Credentialのアップロード",-1),Ue={class:"text-left"};function Te(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[Se])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(N.W,{modelValue:e.fileName,"onUpdate:modelValue":t[0]||(t[0]=t=>e.fileName=t),label:"fileName",placeholder:"xxx.json"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(M.J,{placeholder:"Verifiable Credentialを入力",modelValue:e.verifiableCredential,"onUpdate:modelValue":t[1]||(t[1]=t=>e.verifiableCredential=t),rows:"40"},null,8,["modelValue"])])),_:1}),(0,a.bF)(A.B,{cols:"6"},{default:(0,a.k6)((()=>[(0,a.bF)(r.D,{onClick:e.upload_vc,color:"primary"},{default:(0,a.k6)((()=>[(0,a.eW)(" Verifiable Credentialを自分のS3にアップロード ")])),_:1},8,["onClick"])])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.Lk)("p",Ue,(0,h.v_)(e.upload_info),1)])),_:1})])),_:1})])),_:1})}var Pe=(0,a.pM)({name:"UploadVC",props:[],data(){return{fileName:"testFileName.json",verifiableCredential:"",upload_info:""}},methods:{async upload_vc(){this.upload_info="";await C.n.put("api",`/vc/${this.fileName}`,{body:JSON.parse(this.verifiableCredential)});this.upload_info="upload success"}}});const Ne=(0,f.A)(Pe,[["render",Te]]);var Me=Ne;const Je=(0,a.Lk)("p",{class:"text-h5"},"保存しているVerifiable Credentialの一覧",-1);function Re(e,t,l,n,i,d){return(0,a.uX)(),(0,a.Wv)(m.I,null,{default:(0,a.k6)((()=>[(0,a.bF)(I.L,null,{default:(0,a.k6)((()=>[(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[Je])),_:1}),(0,a.bF)(A.B,{cols:"12"},{default:(0,a.k6)((()=>[(0,a.bF)(O.Z,null,{default:(0,a.k6)((()=>[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.headers,(e=>((0,a.uX)(),(0,a.CE)("th",{key:e.value,class:"text-left"},(0,h.v_)(e.text),1)))),128))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.vc_list,(t=>((0,a.uX)(),(0,a.CE)("tr",{key:t.Key},[(0,a.Lk)("td",null,(0,h.v_)(t.Key),1),(0,a.Lk)("td",null,(0,h.v_)(t.LastModified),1),(0,a.Lk)("td",null,(0,h.v_)(t.Size),1),(0,a.Lk)("td",null,(0,h.v_)(t.Endpoint),1),(0,a.Lk)("td",null,[(0,a.bF)(r.D,{onClick:l=>e.get_vc(t.Key)},{default:(0,a.k6)((()=>[(0,a.eW)("DL")])),_:2},1032,["onClick"])])])))),128))])])),_:1})])),_:1})])),_:1})])),_:1})}l(1412),l(1883),l(286);var Xe=l(160),Ke=(0,a.pM)({name:"ListVC",props:[],data(){return{fileName:"testFileName.json",verifiableCredential:"",upload_info:"",headers:[{text:"Key"},{text:"LastModified"},{text:"Size"},{text:"Endpoint"}],vc_list:[]}},methods:{async list_vc(){const e=await C.n.get("api","/vc"),t={ignoreAttributes:!1,format:!0},l=new Xe.XMLParser(t),n=l.parse(e);if(console.log(n.ListBucketResult.Contents),this.vc_list=[],Array.isArray(n.ListBucketResult.Contents))for(let a=0;a<n.ListBucketResult.Contents.length;a++)this.vc_list.push({Key:n.ListBucketResult.Contents[a].Key.split("/")[1],LastModified:n.ListBucketResult.Contents[a].LastModified,Size:n.ListBucketResult.Contents[a].Size,Endpoint:`${C.n.Auth._config.API.endpoints[0].endpoint}/download/${n.ListBucketResult.Contents[a].Key}`});else this.vc_list.push({Key:n.ListBucketResult.Contents.Key.split("/")[1],LastModified:n.ListBucketResult.Contents.LastModified,Size:n.ListBucketResult.Contents.Size,Endpoint:`${C.n.Auth._config.API.endpoints[0].endpoint}/download/${n.ListBucketResult.Contents.Key}`});console.log(this.vc_list)},async get_vc(e){const t=await C.n.get("api",`/vc/${e}`);console.log(t);const l=new Blob([JSON.stringify(t)],{type:"text/plain"}),n=URL.createObjectURL(l),a=document.createElement("a");document.body.appendChild(a),a.download=e,a.href=n,a.click(),a.remove(),URL.revokeObjectURL(n)}},created(){this.list_vc()}});const Ge=(0,f.A)(Ke,[["render",Re]]);var $e=Ge,ze=(0,a.pM)({name:"HolderView",components:{GenerateIdentifier:j,GetIdentifier:P,UploadVC:Me,ListVC:$e,Attribute:Ce,DelegateDID:De},data(){return{}}});const He=(0,f.A)(ze,[["render",Ee]]);var qe=He;const Ze=[{path:"/signin",name:"SignIn",component:D},{path:"/",name:"home",component:je,meta:{auth:!0}},{path:"/holder",name:"holder",component:qe,meta:{auth:!0}}],Ye=(0,b.aE)({history:(0,b.LA)("/"),routes:Ze});Ye.beforeEach((async(e,t,l)=>{if(e.matched.some((e=>e.meta.auth)))try{const e=await k.N.currentSession();e?l():l({path:"/signin"})}catch(n){l({path:"signin"})}else l()}));var Qe=Ye,et=(l(8068),l(6553)),tt=(0,et.$N)(),lt=l(8010);async function nt(){const e=await l.e(53).then(l.t.bind(l,1733,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}lt.H.configure({API:{endpoints:[{name:"api",endpoint:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_ENDPOINT,custom_header:async()=>{const e=await k.N.currentSession();return e?{Authorization:`Bearer ${e.getIdToken().getJwtToken()}`}:{}}}]},Auth:{region:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_AWS_REGION,userPoolId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_USER_POOL_ID,userPoolWebClientId:{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_USER_POOL_WEB_CLIENT_ID}}),nt(),(0,n.Ef)(p).use(Qe).use(tt).mount("#app")},23:function(){}},t={};function l(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,l),i.loaded=!0,i.exports}l.m=e,function(){var e=[];l.O=function(t,n,a,i){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],a=e[u][1],i=e[u][2];for(var d=!0,o=0;o<n.length;o++)(!1&i||r>=i)&&Object.keys(l.O).every((function(e){return l.O[e](n[o])}))?n.splice(o--,1):(d=!1,i<r&&(r=i));if(d){e.splice(u--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,a,i]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};l.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var i=Object.create(null);l.r(i);var r={};e=e||[null,t({}),t([]),t(t)];for(var d=2&a&&n;"object"==typeof d&&!~e.indexOf(d);d=t(d))Object.getOwnPropertyNames(d).forEach((function(e){r[e]=function(){return n[e]}}));return r["default"]=function(){return n},l.d(i,r),i}}(),function(){l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,n){return l.f[n](e,t),t}),[]))}}(),function(){l.u=function(e){return"js/webfontloader.bfd0b833.js"}}(),function(){l.miniCssF=function(e){}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="holderwebapp:";l.l=function(n,a,i,r){if(e[n])e[n].push(a);else{var d,o;if(void 0!==i)for(var s=document.getElementsByTagName("script"),u=0;u<s.length;u++){var c=s[u];if(c.getAttribute("src")==n||c.getAttribute("data-webpack")==t+i){d=c;break}}d||(o=!0,d=document.createElement("script"),d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.setAttribute("data-webpack",t+i),d.src=n),e[n]=[a];var f=function(t,l){d.onerror=d.onload=null,clearTimeout(_);var a=e[n];if(delete e[n],d.parentNode&&d.parentNode.removeChild(d),a&&a.forEach((function(e){return e(l)})),t)return t(l)},_=setTimeout(f.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=f.bind(null,d.onerror),d.onload=f.bind(null,d.onload),o&&document.head.appendChild(d)}}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){l.p="/"}(),function(){var e={524:0};l.f.j=function(t,n){var a=l.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((function(l,n){a=e[t]=[l,n]}));n.push(a[2]=i);var r=l.p+l.u(t),d=new Error,o=function(n){if(l.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,a[1](d)}};l.l(r,o,"chunk-"+t,t)}},l.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,i,r=n[0],d=n[1],o=n[2],s=0;if(r.some((function(t){return 0!==e[t]}))){for(a in d)l.o(d,a)&&(l.m[a]=d[a]);if(o)var u=o(l)}for(t&&t(n);s<r.length;s++)i=r[s],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(u)},n=self["webpackChunkholderwebapp"]=self["webpackChunkholderwebapp"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=l.O(void 0,[504],(function(){return l(3735)}));n=l.O(n)})();
//# sourceMappingURL=app.e6cc70a8.js.map